<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>JSON IDE â€” Smart Parser</title>
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet" />
  <link rel="stylesheet" href="/styles.css" />
</head>

<body data-theme="dark">
  <!-- Top Bar -->
  <header class="top-bar">
    <div class="menu-items">
      <span class="logo">JSON IDE</span>
      <span class="menu-item" id="sampleBtn">Sample</span>
      <span class="menu-item" id="clearBtn">Clear</span>
      <span class="menu-item" id="themeToggle">Theme</span>
    </div>
    <div class="top-actions">
      <button id="parseBtn" class="btn">â–¶ RUN PARSE</button>
    </div>
  </header>

  <div class="app">
    <!-- Sidebar -->
    <aside class="sidebar">
      <div class="sidebar-icon active" title="Explorer">ðŸ“‚</div>
      <div class="sidebar-icon" id="settingsToggle" title="Settings">âš™</div>
    </aside>

    <!-- Main Workspace -->
    <main class="workspace">
      <!-- Query Bar -->
      <div class="query-bar">
        <span style="font-size: 11px; color: var(--muted); font-weight: 600;">QUERY:</span>
        <input type="text" id="queryInput" class="query-input" placeholder="e.g. users[0].name" />
        <button id="queryBtn" class="btn btn-ghost">Execute</button>
        <div id="querySuggestions" class="suggestions" style="display:none">
          <ul id="suggestionList" style="list-style:none"></ul>
        </div>
      </div>

      <!-- Editor Area -->
      <div class="editor-area">
        <!-- Input Panel -->
        <section class="panel">
          <div class="panel-header">
            <span class="panel-title">input.json</span>
            <span id="charCount" style="font-size: 10px; color: var(--muted);">0 chars</span>
          </div>
          <div class="panel-content input-content">
            <textarea id="input" spellcheck="false" placeholder="Paste JSON here..."></textarea>
            <pre id="inputHighlight" class="input-highlight" aria-hidden="true"></pre>
          </div>
        </section>

        <!-- Output Panel -->
        <section class="panel">
          <div class="panel-header">
            <span class="panel-title">output.json</span>
            <div style="display: flex; gap: 10px; align-items: center;">
              <select id="indentSelect" class="btn btn-ghost" style="padding: 2px 5px;">
                <option value="2">Spaces: 2</option>
                <option value="4">Spaces: 4</option>
                <option value="tab">Tab</option>
              </select>
            </div>
          </div>
          <div class="panel-content output-content">
            <pre id="output" class="output">// Results will appear here</pre>

            <!-- Floating Toolbar -->
            <div class="toolbar">
              <button data-action="copy" class="tool-btn" title="Copy">ðŸ“‹</button>
              <button data-action="prettify" class="tool-btn" title="Prettify">{ }</button>
              <button data-action="minify" class="tool-btn" title="Minify">min</button>
              <button data-action="sort-keys" class="tool-btn" title="Sort">â†•</button>
              <button data-action="stats" class="tool-btn" title="Stats">ðŸ“Š</button>
              <button data-action="download" class="tool-btn" title="Download">â¬‡</button>
            </div>
          </div>
        </section>
      </div>

      <!-- Settings Drawer -->
      <section class="settings-panel" id="settingsPanel" style="display:none">
        <div class="settings-header">
          <span>Settings</span>
          <button id="settingsClose" class="btn btn-ghost">Close</button>
        </div>
        <div class="settings-grid" id="optionsGrid">
          <label class="opt">
            <input type="checkbox" id="opt-strict" />
            <span>Strict mode</span>
          </label>
          <label class="opt">
            <input type="checkbox" id="opt-allowComments" checked />
            <span>Allow comments</span>
          </label>
          <label class="opt">
            <input type="checkbox" id="opt-allowTrailingComma" checked />
            <span>Allow trailing comma</span>
          </label>
          <label class="opt">
            <input type="checkbox" id="opt-convertPythonTokens" checked />
            <span>Convert Python tokens</span>
          </label>
          <label class="opt">
            <input type="checkbox" id="opt-convertUndefined" checked />
            <span>Convert undefined</span>
          </label>
          <label class="opt">
            <span>Max depth</span>
            <input type="number" id="opt-maxDepth" value="100" min="1" max="1000" class="opt-num" />
          </label>
        </div>
      </section>

      <!-- Bottom Panel -->
      <footer class="bottom-panel">
        <div class="tab-container">
          <div class="tab active" data-tab="recovery">Recovery Log</div>
          <div class="tab" data-tab="stats">Statistics</div>
        </div>
        <div class="tab-content" id="recovery-tab">
          <ul id="notes" class="recovery-log">
            <li class="log-item">Ready to parse.</li>
          </ul>
        </div>
        <div class="tab-content" id="stats-tab" style="display:none">
          <div id="statsGrid" class="stats-grid" style="display: grid; grid-template-columns: repeat(auto-fill, minmax(120px, 1fr)); gap: 10px;">
            <!-- Stats cards here -->
          </div>
        </div>
      </footer>
    </main>
  </div>

  <!-- Status Bar -->
  <footer class="status-bar">
    <div class="status-left">
      <span id="status">Ready</span>
    </div>
    <div class="status-right">
      <span>UTF-8</span>
      <span>JSON</span>
      <span>Ln 1, Col 1</span>
    </div>
  </footer>

  <script src="/app.js"></script>
</body>

</html>
